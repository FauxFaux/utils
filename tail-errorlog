#!/bin/sh

# $Id: tail-errorlog,v 1.8 1999/12/03 21:10:45 sunny Exp $
# tail -f på error_log til httpd(8).
#
# Syntax hvis man er på black:
# $0 {k1|k2|k3|...}
#
# Syntax hvis man er på brown:
# $0 {00k|01k|02k|...|20k}
#
# ...ellers fixer den det meste. :)

HNAME=`hostname -f`

if [ "$HNAME" = "localhost.localdomain" ]; then
	HNAME=`hostname`
fi
if [ "$HNAME" = "localhost.localdomain" ]; then
	echo "$0: localhost.localdomain: Finner ikke maskinnavn, som man ser." >&2
fi

if [ -e /black.mrk ]; then
	tail -f /usr/local/apache/logs/$1_error_log
elif [ -e /brown.mrk ]; then
	tail -f /usr/local/apache/logs/$1_err_log
elif [ -e /grimme.mrk ]; then
	tail -f /var/log/httpd/error_log
elif [ "$HNAME" = "www.ba.no" -o "$HNAME" = "www4.ba.no" ]; then
	tail -f /home/httpd/logs/error_log
else
	echo $0: Ukjent maskin, kan ikke skrive ut error_log >&2
	exit 1
fi
